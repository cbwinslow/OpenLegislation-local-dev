# AutoClaude Project Context

Generated at: 2025-09-29T23:04:20.414Z

---

# Project Context

## Workspace
- **Root**: /home/cbwinslow/Documents/OpenLegislation-local-dev
- **Type**: single
- **Last Updated**: 2025-09-29T23:04:10.896Z

## Statistics
- **Total Files**: 2401
- **Estimated Lines**: 219195
- **Average File Size**: 71048 bytes

## Languages
- **java**: 13780440 files
- **javascript**: 2095101 files
- **python**: 1884047 files
- **sql**: 1550147 files
- **xml**: 1325495 files
- **markdown**: 1041496 files
- **shellscript**: 444821 files
- **html**: 372824 files
- **json**: 234765 files
- **yaml**: 104557 files
- **css**: 64280 files
- **typescriptreact**: 25433 files

## Project Structure
- **Main Languages**: Not detected
- **Frameworks**: None detected
- **Test Frameworks**: None detected
- **Build Tools**: None detected

## Configuration Files
- pom.xml


## Largest Files
- .venv/bin/python3 (27680KB)
- .venv/bin/python3.12 (27680KB)
- src/main/webapp/static/img/business_assets/members/mini/1336_Robert_Rolison.jpg (6822KB)
- src/main/webapp/static/pdf/2017-A7068.pdf (5037KB)
- src/main/webapp/static/pdf/2017-S5492.pdf (5037KB)
- src/main/webapp/static/pdf/2024-S8303-A8803.pdf (2429KB)
- src/main/webapp/static/pdf/2025-S3003-A3003.pdf (2415KB)
- src/main/webapp/static/pdf/2017-S2003-A3003.pdf (2367KB)
- src/main/webapp/static/pdf/2023-S4003-A3003.pdf (2321KB)
- src/main/webapp/static/pdf/2022-S8003-A9003.pdf (2189KB)


---

# Task Summary

## Overall Statistics
- **Total Tasks**: 0
- **Pending**: 0
- **In Progress**: 0
- **Completed**: 0
- **Failed**: 0

## Current Session
- **Session ID**: mg5mdj04-lmpx2yu
- **Started**: 2025-09-29T21:07:21.076Z
- **Tasks in Session**: 0

## Recent Tasks



---

## Unfinished Tasks
No unfinished tasks

---

## Recent Changes

### Git Status
```
 M .autoclaude/CLAUDE_CONTEXT.md
 M .autoclaude/cache/project-index.json
 M .autoclaude/tasks/sessions.json
 D .claude_agent_farm_state.json
 M .heartbeats/agent00.heartbeat
 M pom.xml
 M src/main/java/gov/nysenate/openleg/dao/federal/FederalMemberDao.java
 M src/main/java/gov/nysenate/openleg/model/federal/FederalMember.java
 M tools/ingest_congress_api.py
?? .autoclaude/work_state.json
?? .claude_agent_farm_backups/settings_2025-09-29T12-40-05-011Z.json
?? .claude_agent_farm_backups/settings_2025-09-29T21-07-43-553Z.json
?? docs/linear_project_report.md
?? docs/linear_templates/
?? src/main/java/gov/nysenate/openleg/service/federal/CongressApiIngestionService.java
?? src/main/resources/db/migration/V20250930.0001__federal_all_tables.sql
?? src/test/java/gov/nysenate/openleg/processors/federal/FederalIngestionIntegrationTest.java
?? tools/README_linear_import.md
?? tools/batches/
?? tools/batches_more/
?? tools/batches_tasks/
?? tools/bulk_ingest_congress_data.sh
?? tools/linear_api_import.py
?? tools/linear_commits_since_2024.csv
?? tools/linear_import_batches.py
?? tools/linear_import_processed.json
?? tools/linear_import_processed_backup_20250929T224615Z.json
?? tools/linear_import_run_20250929T221722Z.json
?? tools/linear_import_run_20250929T221808Z.json
?? tools/linear_import_run_20250929T222047Z.json
?? tools/linear_import_run_20250929T222517Z.json
?? tools/linear_import_run_20250929T224555Z.json
?? tools/schemas/
?? tools/tasks_as_commits.csv
?? tools/tasks_to_commits.py
?? tools/validate_ingestion.py

```

### Recent Commits
```
3b1f31c96 dfgdfg 	new file:   DIFF_20250929_125611.md 	new file:   RECOMMENDATIONS_20250929_125611.md 	new file:   docs/federal_ingestion_procedures.md 	new file:   docs/federal_ingestion_summary.md 	new file:   docs/federal_ingestion_testing.md 	modified:   tools/ingest_congress_api.py
7c87eaeae sdfsdf 	modified:   .autoclaude/CLAUDE_CONTEXT.md 	modified:   .autoclaude/cache/project-index.json 	modified:   .autoclaude/tasks/sessions.json 	new file:   .claude_agent_farm_backups/settings_2025-09-29T04-39-25-793Z.json 	modified:   .claude_agent_farm_state.json 	modified:   .heartbeats/agent00.heartbeat 	new file:   docs/java_tests.md 	modified:   docs/tasks.md 	modified:   pom.xml 	new file:   src/main/java/gov/nysenate/openleg/dao/federal/FederalCFRDao.java 	new file:   src/main/java/gov/nysenate/openleg/dao/federal/FederalCommitteeDao.java 	new file:   src/main/java/gov/nysenate/openleg/dao/federal/FederalHearingDao.java 	new file:   src/main/java/gov/nysenate/openleg/dao/federal/FederalMemberCommitteeDao.java 	modified:   src/main/java/gov/nysenate/openleg/dao/federal/FederalMemberDao.java 	new file:   src/main/java/gov/nysenate/openleg/dao/federal/FederalMemberSocialMediaDao.java 	new file:   src/main/java/gov/nysenate/openleg/dao/federal/FederalRegisterDao.java 	new file:   src/main/java/gov/nysenate/openleg/dao/federal/FederalReportDao.java 	new file:   src/main/java/gov/nysenate/openleg/dao/federal/FederalSocialMediaPostDao.java 	new file:   src/main/java/gov/nysenate/openleg/dao/federal/FederalTranscriptDao.java 	modified:   src/main/java/gov/nysenate/openleg/dao/federal/bill/FederalBillRepository.java 	new file:   src/main/java/gov/nysenate/openleg/model/federal/FederalCFR.java 	new file:   src/main/java/gov/nysenate/openleg/model/federal/FederalCommittee.java 	new file:   src/main/java/gov/nysenate/openleg/model/federal/FederalHearing.java 	modified:   src/main/java/gov/nysenate/openleg/model/federal/FederalMember.java 	modified:   src/main/java/gov/nysenate/openleg/model/federal/FederalMemberCommittee.java 	modified:   src/main/java/gov/nysenate/openleg/model/federal/FederalMemberTerm.java 	new file:   src/main/java/gov/nysenate/openleg/model/federal/FederalRegister.java 	new file:   src/main/java/gov/nysenate/openleg/model/federal/FederalReport.java 	new file:   src/main/java/gov/nysenate/openleg/model/federal/FederalSocialMediaPost.java 	new file:   src/main/java/gov/nysenate/openleg/model/federal/FederalTranscript.java 	new file:   src/main/java/gov/nysenate/openleg/processors/federal/CongressionalRecordProcessor.java 	new file:   src/main/java/gov/nysenate/openleg/processors/federal/FederalCFRProcessor.java 	new file:   src/main/java/gov/nysenate/openleg/processors/federal/FederalHearingProcessor.java 	new file:   src/main/java/gov/nysenate/openleg/processors/federal/FederalRegisterProcessor.java 	new file:   src/main/java/gov/nysenate/openleg/scripts/analysis/AllMembersIngester.java 	new file:   src/main/java/gov/nysenate/openleg/scripts/analysis/AppConfig.java 	new file:   src/test/java/gov/nysenate/openleg/processors/federal/CongressionalRecordProcessorTest.java
6fe8c9509 fghfgh 	modified:   .autoclaude/CLAUDE_CONTEXT.md 	modified:   .autoclaude/cache/project-index.json
1149a431c feat(ui): add federal members support to data ingestion view
3feb8f541 dfgdfg 	new file:   ${input:duckdb_db_path} 	new file:   .autoclaude/CLAUDE_CONTEXT.md 	new file:   .autoclaude/cache/project-index.json 	new file:   .autoclaude/config.json 	new file:   .autoclaude/detected_problems.txt 	new file:   .autoclaude/enhanced-config.json 	new file:   .autoclaude/scripts/README.md 	new file:   .autoclaude/scripts/build-check.sh 	new file:   .autoclaude/scripts/code-understanding-check.sh 	new file:   .autoclaude/scripts/context-check.sh 	new file:   .autoclaude/scripts/dependency-check.sh 	new file:   .autoclaude/scripts/format-check.sh 	new file:   .autoclaude/scripts/github-actions.sh 	new file:   .autoclaude/scripts/integration-testing-check.sh 	new file:   .autoclaude/scripts/performance-check.sh 	new file:   .autoclaude/scripts/production-readiness.sh 	new file:   .autoclaude/scripts/security-audit-check.sh 	new file:   .autoclaude/scripts/test-check.sh 	new file:   .autoclaude/tasks/sessions.json 	new file:   .autoclaude/tasks/tasks.json 	new file:   .claude_agent_farm_backups/settings_2025-09-28T21-15-38-276Z.json 	modified:   .gitignore 	new file:   .heartbeats/agent00.heartbeat 	new file:   .specstory/.what-is-this.md 	modified:   docs/tasks.md 	new file:   frontend/app/layout.tsx 	new file:   frontend/components/DataIngestionPlatform.tsx 	new file:   frontend/components/ui/Card.tsx 	new file:   frontend/next.config.js 	new file:   requirements.txt 	new file:   src/main/resources/db/migration/V20250928.0001__ingestion_optimizations.sql 	new file:   src/main/resources/db/migration/V20250928.0002__federal_social_media_posts.sql 	new file:   src/main/webapp/WEB-INF/app/apis/ingestionApi.js 	modified:   src/main/webapp/WEB-INF/app/index.js 	new file:   src/main/webapp/WEB-INF/app/shared/Alert.js 	new file:   src/main/webapp/WEB-INF/app/shared/Badge.js 	new file:   src/main/webapp/WEB-INF/app/shared/Button.js 	new file:   src/main/webapp/WEB-INF/app/shared/Card.js 	modified:   src/main/webapp/WEB-INF/app/shared/Checkbox.js 	new file:   src/main/webapp/WEB-INF/app/shared/Collapsible.js 	modified:   src/main/webapp/WEB-INF/app/shared/Input.js 	new file:   src/main/webapp/WEB-INF/app/shared/Progress.js 	modified:   src/main/webapp/WEB-INF/app/shared/Select.js 	modified:   src/main/webapp/WEB-INF/app/shared/Tabs.js 	new file:   src/main/webapp/WEB-INF/app/shared/Textarea.js 	modified:   src/main/webapp/WEB-INF/app/views/home/NavMenu.js 	new file:   src/main/webapp/WEB-INF/app/views/ingestion/DataIngestionView.js 	new file:   tools/ingest_federal_data.py 	new file:   tools/ingest_member_tweets.py 	new file:   tools/ingestion_scheduler.py 	new file:   tools/ingestion_worker.py
8ba23f8be Add comprehensive unit test suite for migrated Python models
744840bf8 Complete Python migration: Pydantic models, database layer, and ingestion tools
0ce163c24 Add migrated Python models for spotcheck domain classes
252cf3a93 Add migrated Python models for member domain classes
f7f3d479c Add migrated Python models for committee domain classes

```

---

## Current File Context
# File Context: src/main/java/gov/nysenate/openleg/service/federal/CongressApiIngestionService.java

- **Size**: 18537 bytes
- **Language**: java
- **Last Modified**: 2025-09-29T23:04:07.078Z
- **Hash**: 9617ae8157768bde605b45117311d5f3


## Symbols
- **gov.nysenate.openleg.service.federal** (Package)
- **CongressApiIngestionService** (Class)
  - **main(String[])** (Method)
  - **processBatch(String, int, JsonNode, boolean, boolean)** (Method)
  - **logger** (Constant)
  - **apiKey** (Field)
  - **baseUrl** (Field)
  - **batchSize** (Field)
  - **federalMemberDao** (Field)
  - **federalCommitteeDao** (Field)
  - **federalBillRepository** (Field)
  - **restTemplate** (Field)
  - **objectMapper** (Field)
  - **ingestAllCongressData(int, Set<String>)** (Method)
  - **ingestSequential(int, Set<String>, CongressIngestionResult)** (Method)
  - **ingestMembers(int)** (Method)
  - **ingestBills(int)** (Method)
  - **ingestCommittees(int)** (Method)
  - **ingestVotes(int)** (Method)
  - **ingestHearings(int)** (Method)
  - **ingestReports(int)** (Method)
  - **ingestTranscripts(int)** (Method)
  - **ingestPaginatedData(String, String, BatchProcessor)** (Method)
  - **processMemberBatch(JsonNode)** (Method)
  - **processBillBatch(JsonNode)** (Method)
  - **processCommitteeBatch(JsonNode)** (Method)
  - **processVoteBatch(JsonNode)** (Method)
  - **processHearingBatch(JsonNode)** (Method)
  - **processReportBatch(JsonNode)** (Method)
  - **processTranscriptBatch(JsonNode)** (Method)
  - **mapToFederalMember(JsonNode)** (Method)
  - **mapToFederalBill(JsonNode)** (Method)
  - **mapToFederalCommittee(JsonNode)** (Method)
  - **BatchProcessor** (Interface)
    - **process(JsonNode)** (Method)
  - **CongressIngestionResult** (Class)
    - **congress** (Field)
    - **dataTypes** (Field)
    - **totalProcessed** (Field)
    - **totalErrors** (Field)
    - **status** (Field)
    - **errorMessage** (Field)
    - **completedAt** (Field)
    - **dataTypeResults** (Field)
    - **CongressIngestionResult(int, Set<String>, String)** (Constructor)
    - **getCongress()** (Method)
    - **getDataTypes()** (Method)
    - **getTotalProcessed()** (Method)
    - **setTotalProcessed(int)** (Method)
    - **getTotalErrors()** (Method)
    - **setTotalErrors(int)** (Method)
    - **getStatus()** (Method)
    - **setStatus(String)** (Method)
    - **getErrorMessage()** (Method)
    - **setErrorMessage(String)** (Method)
    - **getCompletedAt()** (Method)
    - **setCompletedAt(LocalDateTime)** (Method)
    - **getDataTypeResults()** (Method)
    - **setDataTypeResults(Map<String, DataTypeResult>)** (Method)
  - **DataTypeResult** (Class)
    - **processedCount** (Field)
    - **errorCount** (Field)
    - **status** (Field)
    - **DataTypeResult(int, int, String)** (Constructor)
    - **getProcessedCount()** (Method)
    - **getErrorCount()** (Method)
    - **getStatus()** (Method)
- **@+ 'congressApiIngestionService' (@Service <: @Component) CongressApiIngestionService** (Class)

### Visible Content (first 50 lines)
```java
package gov.nysenate.openleg.service.federal;

import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import gov.nysenate.openleg.dao.federal.FederalMemberDao;
import gov.nysenate.openleg.dao.federal.FederalCommitteeDao;
import gov.nysenate.openleg.dao.federal.bill.FederalBillRepository;
import gov.nysenate.openleg.model.federal.*;
import gov.nysenate.openleg.model.federal.bill.FederalBill;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;
import org.springframework.web.client.RestTemplate;

import java.time.LocalDateTime;
import java.util.*;
import java.util.concurrent.CompletableFuture;

/**
 * Service for ingesting data from congress.gov API.
 * Handles all data types: members, bills, committees, votes, hearings, reports, transcripts.
 */
@Service
@Transactional
public class CongressApiIngestionService {

    /**
     * Main method for CLI invocation (mvn exec:java).
     * Args: --congress 119 --endpoint bill --input /tmp/batch.json --persist --idempotent
     */
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);  // Bootstrap Spring context
        // Parse args (simple, or use JCommander)
        int congress = 119;  // Default
        String endpoint = "bill";
        String inputFile = null;
        boolean persist = false;
        boolean idempotent = true;
        for (int i = 0; i < args.length; i++) {
            if ("--congress".equals(args[i])) congress = Integer.parseInt(args[++i]);
            else if ("--endpoint".equals(args[i])) endpoint = args[++i];
            else if ("--input".equals(args[i])) inputFile = args[++i];
            else if ("--persist".equals(args[i])) persist = true;
            else if ("--idempotent".equals(args[i])) idempotent = Boolean.parseBoolean(args[++i]);
        }
        // Get bean and run
```